<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Traductor Texto ⇄ Hexadecimal</title>
  
  <link rel="icon" type="image/png" href="hexagon.png">
  <style>
    :root{--bg:#0f1724;--card:#0b1220;--muted:#94a3b8;--accent:#1b38dd;--glass:rgba(255,255,255,0.03)}
    *{box-sizing:border-box}
    body{font-family:Inter,ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,'Helvetica Neue',Arial; margin:0; min-height:100vh; background:linear-gradient(180deg,#071124 0%, #071022 60%); color:#e6eef8; display:flex; align-items:center; justify-content:center; padding:20px}
    .wrap{width:100%;max-width:980px}
    header{display:flex;align-items:center;gap:18px;margin-bottom:18px;flex-wrap:wrap;text-align:center;justify-content:center}
    .logo{width:56px;height:56px;border-radius:12px;background:linear-gradient(135deg,var(--accent),#398ef0);display:flex;align-items:center;justify-content:center;font-weight:700;margin-bottom:10px}
    h1{font-size:20px;margin:0}
    p.lead{margin:0;color:var(--muted);font-size:13px}
    input[type="radio"] {accent-color: var(--accent);}


    .grid{display:grid;grid-template-columns:1fr 360px;gap:18px}
    @media (max-width:768px){
      .grid{grid-template-columns:1fr}
    }

    .card{background:var(--card);padding:16px;border-radius:12px;box-shadow:0 6px 24px rgba(2,6,23,0.6)}

    textarea{width:100%;min-height:160px;padding:12px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:linear-gradient(180deg,rgba(255,255,255,0.01),transparent);color:inherit;resize:vertical}
    label{display:block;font-size:13px;color:var(--muted);margin-bottom:6px}
    .row{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
    .btn{background:var(--accent);border:none;color:white;padding:8px 12px;border-radius:8px;cursor:pointer;transition:opacity .2s}
    .btn:hover{opacity:.9}
    .btn.secondary{background:transparent;border:1px solid rgba(255,255,255,0.06)}
    .controls{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px}
    .small{font-size:13px;color:var(--muted)}
    .output{white-space:pre-wrap;word-break:break-word;min-height:100px}
    .meta{font-size:13px;color:var(--muted);margin-top:8px}
    .options{display:flex;gap:10px;flex-wrap:wrap}
    .chip{background:var(--glass);padding:6px 8px;border-radius:999px;font-size:13px;color:var(--muted);border:1px solid rgba(255,255,255,0.02);display:flex;align-items:center}
    footer{margin-top:14px;color:var(--muted);font-size:13px;text-align:center}
    .hint{font-size:13px;color:#c7d2fe;padding:8px;border-radius:8px;background:linear-gradient(180deg,rgba(124,58,237,0.08),transparent);}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="logo">
  <img src="hexagon.png" alt="Logo" class="logo-img">
</div>

      <div>
        <h1>Traductor Texto ⇄ Hexadecimal</h1>
        <p class="lead">Convierte texto a su representación hexadecimal y viceversa. Por Andrés Cruz Guzmán.</p>
      </div>
    </header>

    <div class="grid">
      <section class="card">
        <label for="input">Entrada</label>
        <textarea id="input" placeholder="Escribe texto o pega hex (p. ej. 48 6f 6c 61)"></textarea>

        <div class="controls">
          <div class="row">
            <input type="radio" id="modeTextToHex" name="mode" checked>
            <label for="modeTextToHex" class="small">Texto → Hex</label>
            <input type="radio" id="modeHexToText" name="mode" style="margin-left:12px">
            <label for="modeHexToText" class="small">Hex → Texto</label>
          </div>

          <div style="margin-left:auto" class="row">
            <button class="btn" id="convertBtn">Convertir</button>
            <button class="btn secondary" id="swapBtn">Intercambiar</button>
          </div>
        </div>

        <div style="margin-top:12px" class="row options">
          <div class="chip"><label class="small">Separador</label>
            <select id="sep" style="margin-left:6px;background:transparent;border:none;color:inherit">
              <option value=" ">Espacio</option>
              <option value="">Sin separador</option>
              <option value="," data-display=",">Coma</option>
              <option value="0x">0x</option>
            </select>
          </div>

        </div>

        <div style="margin-top:12px">
          <label class="small">Salida</label>
          <div id="output" class="card" style="padding:12px;background:linear-gradient(180deg,rgba(255,255,255,0.02),transparent);min-height:120px" tabindex="0">
            <div class="output" id="result">(Resultado aquí)</div>
          </div>

          <div class="controls" style="margin-top:8px">
            <button class="btn" id="copyBtn">Copiar resultado</button>
            <button class="btn secondary" id="clearBtn">Limpiar</button>
            <div style="margin-left:auto" class="small meta" id="metaInfo">—</div>
          </div>
        </div>

      </section>

      <aside class="card">
        <h3 style="margin:0 0 8px 0">Objetivos de aprendizaje</h3>
        <ul style="margin-top:4px;color:var(--muted)">
          <li>Comprender el concepto del sistema numérico hexadecimal.</li>
          <li>Aplicar programación para convertir texto ↔ hexadecimal.</li>
        </ul>

        <div style="margin-top:12px" class="hint">
          Nota: la conversión usa <strong>UTF-8</strong> para soportar acentos y caracteres especiales. Ejemplos: "Hola" → 48 6f 6c 61.
        </div>

        <div style="margin-top:12px">
          <label class="small">Ejemplos rápidos</label>
          <div class="small meta" style="margin-top:8px">Texto: <span class="chip">¡Hola!</span></div>
          <div class="small meta">Hex UTF-8: <span class="chip">c2 a1 48 6f 6c 61 21</span></div>

          <hr style="margin:12px 0;border:none;border-top:1px solid rgba(255,255,255,0.03)">

          <label class="small">Cómo usar</label>
          <ol class="small meta" style="padding-left:16px;margin-top:8px">
            <li>Escribe o pega texto (o hex) en el área de entrada.</li>
            <li>Selecciona la dirección (Texto→Hex o Hex→Texto).</li>
            <li>Elige separador y presiona <em>Convertir</em>.</li>
          </ol>
        </div>

      </aside>
    </div>

    <footer>
      <small class="small">Tarea 2: "Traductor de hexadecimal a texto y viceversa" — Andrés Cruz Guzmán 1°O — Matemáticas Discretas.</small>
    </footer>
  </div>

  <script>
    const inputEl = document.getElementById('input');
    const resultEl = document.getElementById('result');
    const convertBtn = document.getElementById('convertBtn');
    const copyBtn = document.getElementById('copyBtn');
    const clearBtn = document.getElementById('clearBtn');
    const sepEl = document.getElementById('sep');
    const metaInfo = document.getElementById('metaInfo');
    const modeTextToHex = document.getElementById('modeTextToHex');
    const modeHexToText = document.getElementById('modeHexToText');
    const swapBtn = document.getElementById('swapBtn');

    function bytesToHex(bytes, sep){
      const arr = Array.from(bytes).map(b => b.toString(16).padStart(2,'0'));
      if(sep === '0x') return arr.map(x => '0x'+x).join(' ');
      return arr.join(sep === ' ' ? ' ' : sep);
    }

    function textToHex(text){
      const encoder = new TextEncoder();
      return encoder.encode(text);
    }

    function hexToBytes(hexString){
      let s = hexString.replace(/0x/g,'').replace(/,/g,' ').replace(/\n|\r/g,' ').trim();
      s = s.split(/\s+/).join('');
      if(s.length === 0) return new Uint8Array(0);
      if(s.length % 2 !== 0) throw new Error('Cadena hex impar (falta medio byte)');
      const bytes = new Uint8Array(s.length/2);
      for(let i=0;i<s.length;i+=2){
        const pair = s.slice(i,i+2);
        if(!/^[0-9a-fA-F]{2}$/.test(pair)) throw new Error('Caracter no hexadecimal: '+pair);
        bytes[i/2] = parseInt(pair,16);
      }
      return bytes;
    }

    function hexToText(hexString){
      const bytes = hexToBytes(hexString);
      const dec = new TextDecoder();
      return dec.decode(bytes);
    }

    convertBtn.addEventListener('click', ()=>{
      const sep = sepEl.value;
      const mode = modeHexToText.checked ? 'hexToText' : 'textToHex';
      const input = inputEl.value;
      metaInfo.textContent = 'Procesando...';

      try{
        if(mode === 'textToHex'){
          const bytes = textToHex(input);
          const hex = bytesToHex(bytes, sep);
          resultEl.textContent = hex.length ? hex : '(cadena vacía)';
          metaInfo.textContent = `Bytes: ${bytes.length}`;
        } else {
          const start = Date.now();
          const text = hexToText(input);
          const duration = Date.now() - start;
          resultEl.textContent = text.length ? text : '(cadena vacía)';
          metaInfo.textContent = `Tiempo: ${duration} ms`;
        }
      } catch(err){
        resultEl.innerHTML = '<span style="color:#f00">Error: '+ (err.message || err) +'</span>';
        metaInfo.textContent = 'Error';
      }
    });

    copyBtn.addEventListener('click', async ()=>{
      const text = resultEl.innerText;
      try{
        await navigator.clipboard.writeText(text);
        copyBtn.textContent = 'Copiado ✓';
        setTimeout(()=> copyBtn.textContent = 'Copiar resultado',1500);
      }catch(e){
        alert('No se pudo copiar: '+e);
      }
    });

    clearBtn.addEventListener('click', ()=>{
      inputEl.value = '';
      resultEl.textContent = '(Resultado aquí)';
      metaInfo.textContent = '—';
    });

    swapBtn.addEventListener('click', ()=>{
      const wasHexToText = modeHexToText.checked;
      modeHexToText.checked = !wasHexToText;
      modeTextToHex.checked = wasHexToText;
      inputEl.value = resultEl.innerText === '(Resultado aquí)' ? '' : resultEl.innerText;
      resultEl.textContent = '(Resultado aquí)';
    });

    inputEl.addEventListener('keydown', (e)=>{
      if((e.ctrlKey||e.metaKey) && e.key === 'Enter'){
        convertBtn.click();
      }
    });

   
  </script>
</body>
</html>
